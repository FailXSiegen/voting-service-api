schema {
    query: Query
    mutation: Mutation
}
enum PollType {
    SECRET
    PUBLIC
}
type Query {
    # Fetches a list of upcoming events by organizer id.
    upcomingEvents(organizerId: ID): [Event]
    # Fetches a list of expired events by organizer id.
    expiredEvents(organizerId: ID): [Event]
}
type Mutation {
    # Create a new organizer.
    createOrganizer(input: CreateOrganizerInput!): Organizer!
    # Update an organizer.
    updateOrganizer(input: UpdateOrganizerInput!): Organizer!
    # Delete an organizer.
    deleteOrganizer(id: ID!): Boolean
    # Creates a new event.
    createEvent(input: CreateEventInput!): Event!
    # Create a new poll.
    createPoll(eventId: ID!, input: CreateNewPollInput): Poll!
}
type Organizer {
    id: ID!
    createDatetime: Int!
    username: String!
    email: String!
    password: String!
    publicName: String!
    events: [Event]
}
type Event {
    id: ID!
    createDatetime: Int
    modifiedDatetime: Int
    title: String
    slug: String
    description: String
    scheduledDatetime: Int!
    organizer: Organizer
    lobbyOpen: Boolean
    active: Boolean
}
type Poll {
    id: ID!
    createDatetime: Int
    title: String!
    type: PollType!
    possibleAnswers: [PollPossibleAnswer]
}
type PollPossibleAnswer {
    id: ID!
    createDatetime: Int
    content: String!
}
input CreateOrganizerInput {
    username: String!
    email: String!
    password: String!
    publicName: String!
}
input UpdateOrganizerInput {
    id: ID!
    username: String
    email: String
    password: String
    publicName: String
}
input CreateEventInput {
    title: String!
    slug: String!
    description: String
    scheduledDatetime: Int!
    organizerId: ID!
    lobbyOpen: Boolean!
    active: Boolean!
}
input CreateNewPollInput {
    title: String!
    type: PollType!
    possibleAnswers: [String!]
}
